(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{53:function(e,t,a){e.exports=a(81)},54:function(e,t,a){},63:function(e,t,a){},65:function(e,t,a){},69:function(e,t,a){},71:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);a(54);var n=a(0),r=a.n(n),l=a(41),i=a.n(l),c=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,99)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,l=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),l(e),i(e)})},o=a(12),u=a(7),f=(a(63),a(105)),s=(a(65),a(45)),m=function(e){var t=e.onDrop,a=e.image;return n.createElement(s.FileDrop,{targetClassName:"imageview-drop-target",onDrop:t},n.createElement("div",{style:{width:"100%",height:"100%",background:"center / contain no-repeat url('"+a.replace(/(\r\n|\r|\n)/gm,"")+"')"}}))},p=(a(69),function(e){var t=e.onClick;return n.createElement("div",{onClick:t,className:"effect",style:{cursor:"pointer",backgroundColor:"#444"}},n.createElement("div",{className:"add-button"},"+"))}),d=function(e){var t=e.removeEffect,a=e.effect;return n.createElement("div",{className:"effect",style:{backgroundColor:a.color},onClick:function(){return t(a)}},a.name,n.createElement("br",null),a.args)},v=function(e){var t=e.effects,a=e.setVisibility,r=e.removeEffect;return n.createElement("div",{className:"effects-view"},n.createElement(p,{onClick:function(){return a(!0)}}),t.map(function(e){return n.createElement(d,{key:e.key,removeEffect:r,effect:e})}))},h=(a(71),a(107)),g=a(102),y=a(46),E=a.n(y),w=function(e,t,a){for(var n=new Uint8ClampedArray(e.length),r=0;r<e.length;r+=4){var l=(e[r+0]+e[r+1]+e[r+2])/3;n[r+0]=n[r+1]=n[r+2]=l,n[r+3]=e[r+3]}return n},b=function(e){return Math.max(0,Math.min(Math.floor(e),255))},C=function(e,t,a,n){for(var r=3*n,l=new Uint8ClampedArray(e.length),i=0;i<e.length;i+=4)l[i+0]=b(e[i+0]+r),l[i+1]=b(e[i+1]+r),l[i+2]=b(e[i+2]+r),l[i+3]=e[i+3];return l},x=function(e,t,a,n){return[t*e[0][0]+a*e[1][0]+n*e[2][0]+e[3][0],t*e[0][1]+a*e[1][1]+n*e[2][1]+e[3][1],t*e[0][2]+a*e[1][2]+n*e[2][2]+e[3][2]]},k=function(e,t,a,n){for(var r=new Uint8ClampedArray(e.length),l=(2*Number(n)+100)/100,i=[[.3086*(1-l)+l,.3086*(1-l),.3086*(1-l),0],[.6094*(1-l),.6094*(1-l)+l,.6094*(1-l),0],[.082*(1-l),.082*(1-l),.082*(1-l)+l,0],[0,0,0,1]],c=0;c<e.length;c+=4){var o=x(i,e[c+0],e[c+1],e[c+2]);r[c+0]=o[0],r[c+1]=o[1],r[c+2]=o[2],r[c+3]=e[c+3]}return r},S=function(e,t,a,n){for(var r=4*n+256,l=new Uint8ClampedArray(e.length),i=new Uint8ClampedArray(256),c=0,o=0;o<e.length;o+=4)c+=77*e[o+0]+150*e[o+1]+29*e[o+2];c=Math.floor(c/(256*e.length/3));for(var u=0;u<256;u++){var f=Math.floor((u-c)*r/256+c);i[u]=b(f)}for(var s=0;s<e.length;s+=4)l[s+0]=i[e[s+0]],l[s+1]=i[e[s+1]],l[s+2]=i[e[s+2]],l[s+3]=e[s+3];return l},A=function(e,t,a,n){for(var r=e.length/4,l=new Uint8ClampedArray(e.length),i=new Uint8ClampedArray(r),c=new Uint8ClampedArray(r),o=new Uint8ClampedArray(r),u=new Uint8ClampedArray(r),f=new Uint8ClampedArray(r),s=new Uint8ClampedArray(r),m=0;m<r;m++)u[m]=e[4*m+0],f[m]=e[4*m+1],s[m]=e[4*m+2],l[4*m+3]=e[4*m+3];var p=N(n,3);U(u,i,t,a,(p[0]-1)/2),U(i,u,t,a,(p[1]-1)/2),U(u,i,t,a,(p[2]-1)/2),U(f,c,t,a,(p[0]-1)/2),U(c,f,t,a,(p[1]-1)/2),U(f,c,t,a,(p[2]-1)/2),U(s,o,t,a,(p[0]-1)/2),U(o,s,t,a,(p[1]-1)/2),U(s,o,t,a,(p[2]-1)/2);for(var d=0;d<r;d++)l[4*d+0]=i[d],l[4*d+1]=c[d],l[4*d+2]=o[d];return l},N=function(e,t){var a=Math.sqrt(12*e*e/t+1),n=Math.floor(a);n%2===0&&n--;for(var r=n+2,l=(12*e*e-t*n*n-4*t*n-3*t)/(-4*n-4),i=Math.round(l),c=[],o=0;o<t;o++)c.push(o<i?n:r);return c},U=function(e,t,a,n,r){for(var l=0;l<e.length;l++)t[l]=e[l];j(t,e,a,n,r),O(e,t,a,n,r)},j=function(e,t,a,n,r){for(var l=0;l<n;l++)for(var i=0;i<a;i++){for(var c=0,o=i-r;o<i+r+1;o++){c+=e[l*a+Math.min(a-1,Math.max(0,o))]}t[l*a+i]=c/(r+r+1)}},O=function(e,t,a,n,r){for(var l=0;l<n;l++)for(var i=0;i<a;i++){for(var c=0,o=l-r;o<l+r+1;o++){c+=e[Math.min(n-1,Math.max(0,o))*a+i]}t[l*a+i]=c/(r+r+1)}},D=a(103),M=a(101),V=function(e){var t=e.preview,a=e.apply,r=n.useState(0),l=Object(u.a)(r,2),i=l[0],c=l[1];return n.createElement("div",{style:{padding:"16px"}},n.createElement(D.a,{style:{color:"#fff"}},"Lightness"),n.createElement(M.a,{style:{margin:"8px 0px 8px 0px"},size:"small",defaultValue:0,"aria-label":"Small",valueLabelDisplay:"auto",min:-50,max:50,getAriaValueText:function(e){c(e),t(C,[e])}}),n.createElement(f.a,{onClick:function(){return a(i)},variant:"outlined"},"Apply"))},L=function(e){var t=e.preview,a=e.apply,r=n.useState(0),l=Object(u.a)(r,2),i=l[0],c=l[1];return n.createElement("div",{style:{padding:"16px"}},n.createElement(D.a,{style:{color:"#fff"}},"Saturation"),n.createElement(M.a,{style:{margin:"8px 0px 8px 0px"},size:"small",defaultValue:0,"aria-label":"Small",valueLabelDisplay:"auto",min:-50,max:50,getAriaValueText:function(e){c(e),t(k,[e])}}),n.createElement(f.a,{onClick:function(){return a(i)},variant:"outlined"},"Apply"))},F=function(e){var t=e.preview,a=e.apply,r=n.useState(0),l=Object(u.a)(r,2),i=l[0],c=l[1];return n.createElement("div",{style:{padding:"16px"}},n.createElement(D.a,{style:{color:"#fff"}},"Contrast"),n.createElement(M.a,{style:{margin:"8px 0px 8px 0px"},size:"small",defaultValue:0,"aria-label":"Small",valueLabelDisplay:"auto",min:-50,max:50,getAriaValueText:function(e){c(e),t(S,[e])}}),n.createElement(f.a,{onClick:function(){return a(i)},variant:"outlined"},"Apply"))},I=function(e){var t=e.preview,a=e.apply,r=n.useState(0),l=Object(u.a)(r,2),i=l[0],c=l[1];return n.createElement("div",{style:{padding:"16px"}},n.createElement(D.a,{style:{color:"#fff"}},"Radius"),n.createElement(M.a,{style:{margin:"8px 0px 8px 0px"},size:"small",defaultValue:2,"aria-label":"Small",valueLabelDisplay:"auto",min:2,max:15,getAriaValueText:function(e){c(e),t(A,[e])}}),n.createElement(f.a,{onClick:function(){return a(i)},variant:"outlined"},"Apply"))},R=function(e){var t=e.shown,a=e.setVisibility,r=e.addEffect,l=e.previewEffect,i=e.forceUpdate,c=n.useState(null),o=Object(u.a)(c,2),f=o[0],s=o[1],m=function(e){r("Lightness","#555",C,[e]),y()},p=function(e){r("Saturation","#334",k,[e]),y()},d=function(e){r("Contrast","#243",S,[e]),y()},v=function(e){r("Blur","#543",A,[e]),y()},y=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];s(null),a(!1),e&&i()};return t?n.createElement(E.a,{handle:".row",defaultPosition:{x:10,y:10}},n.createElement("div",{className:"effects-window"},n.createElement("div",{style:{display:"flex"}},f?n.createElement("div",{onClick:function(){s(null),i()},className:"back-button"},"\u2039"):null,n.createElement("div",{className:"row"},n.createElement("label",{className:"title-bar"},"Filters")),n.createElement("div",{onClick:function(){return y(!0)},className:"close-button"},"\u2715")),n.createElement("div",{style:{margin:"10px 0px 10px 0px",overflowY:"auto",overflowX:"hidden"}},f||n.createElement(h.a,null,n.createElement(g.a,{className:"effects-list-item",onClick:function(){r("Grayscale","#111",w),y()}},"Grayscale"),n.createElement(g.a,{className:"effects-list-item",onClick:function(){s(n.createElement(V,{preview:l,apply:m}))}},"Lightness"),n.createElement(g.a,{className:"effects-list-item",onClick:function(){s(n.createElement(L,{preview:l,apply:p}))}},"Saturation"),n.createElement(g.a,{className:"effects-list-item",onClick:function(){s(n.createElement(F,{preview:l,apply:d}))}},"Contrast"),n.createElement(g.a,{className:"effects-list-item",onClick:function(){s(n.createElement(I,{preview:l,apply:v}))}},"Blur"))))):null},T=function(){var e=n.useState(!1),t=Object(u.a)(e,2),a=t[0],r=t[1],l=n.useState(""),i=Object(u.a)(l,2),c=i[0],s=i[1],p=n.useState(0),d=Object(u.a)(p,2),h=d[0],g=d[1],y=n.useState(0),E=Object(u.a)(y,2),w=E[0],b=E[1],C=n.useState(new Uint8ClampedArray),x=Object(u.a)(C,2),k=x[0],S=x[1],A=n.useState(new Uint8ClampedArray),N=Object(u.a)(A,2),U=N[0],j=N[1],O=n.useState(!1),D=Object(u.a)(O,2),M=D[0],V=D[1],L=n.useState([]),F=Object(u.a)(L,2),I=F[0],T=F[1],z=n.useState(0),B=Object(u.a)(z,2),P=B[0],G=B[1],J=function(e){if(e.path&&e.path.length&&e.path.length>0){var t=e.path[0];s(t.src),g(t.width),b(t.height);var a=document.createElement("canvas");a.width=t.width,a.height=t.height;var n=a.getContext("2d");n.fillStyle="#fff",n.fillRect(0,0,a.width,a.height),n.drawImage(t,0,0);var l=n.getImageData(0,0,a.width,a.height).data;S(l),j(l),T([]),r(!0)}},q=function(e){var t=new Image;t.onload=J,t.src=e.target.result},X=function(e){if(e&&e.length&&e.length>0){var t=new FileReader;t.onload=q,t.readAsDataURL(e[0])}},Y=function(e){var t=new ImageData(e,h,w),a=document.createElement("canvas");a.width=h,a.height=w,a.getContext("2d").putImageData(t,0,0),s(a.toDataURL())},_=function(e){for(var t=new Uint8ClampedArray(k.length),a=0;a<k.length;a++)t[a]=k[a];for(var n=0;n<e.length;n++){var r=e[n].effect,l=e[n].args,i=[t,h,w];l&&i.push.apply(i,Object(o.a)(l)),t=r.apply(void 0,i)}Y(t),j(t)},H=function(e){V(e)};return n.createElement("div",{className:"app"},n.createElement("input",{id:"input-file",type:"file",onChange:function(e){X(e.target.files)},style:{visibility:"hidden",position:"absolute"}}),n.createElement(f.a,{variant:"contained",onClick:function(){var e=document.createElement("a");e.href=c,e.target="_blank",e.download="export.png",e.click()},style:{position:"absolute"}},"Save"),n.createElement("label",{className:"upload-button",htmlFor:"input-file"},n.createElement(m,{onDrop:X,image:c})),n.createElement("div",{className:"row"},n.createElement(v,{effects:I,setVisibility:H,removeEffect:function(e){var t=I.findIndex(function(t){return t.key===e.key}),a=I.slice(0,t).concat(I.slice(t+1));_(a),T(a)}})),n.createElement(R,{shown:M,setVisibility:H,addEffect:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(a){var l=[U,h,w];r&&l.push.apply(l,Object(o.a)(r));var i=n.apply(void 0,l),c={key:P,name:e,color:t,effect:n,args:r};G(P+1),Y(i),j(i),T([].concat(Object(o.a)(I),[c]))}},previewEffect:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(a){var n=[U,h,w];t&&n.push.apply(n,Object(o.a)(t)),Y(e.apply(void 0,n))}},forceUpdate:function(){a&&_(I)}}))};i.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null))),c()}},[[53,3,2]]]);
//# sourceMappingURL=main.1c32c91d.chunk.js.map